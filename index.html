<!doctype html>
<html>
  <body>
    <h1>My JS App</h1>
    <input id="title" placeholder="todo yozing" />
    <button id="add">Qoâ€˜shish</button>
    <ul id="list"></ul>

    <script>
      const api = "http://localhost:3000/api/todos";
      async function load() {
        const data = await fetch(api).then(r => r.json());
        document.getElementById("list").innerHTML =
          data.map(t => `<li>${t.title}</li>`).join("");
      }
      document.getElementById("add").onclick = async () => {
        const title = document.getElementById("title").value.trim();
        if (!title) return;
        await fetch(api, { method:"POST", headers:{ "Content-Type":"application/json" }, body: JSON.stringify({ title }) });
        document.getElementById("title").value = "";
        load();
      };
      load();
    </script>
  </body>
</html>
